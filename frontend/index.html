<!doctype html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lumoshive Final Project ‚Ä¢ Chat</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      /* Hide scrollbar but keep scrolling (chat area) */
      .no-scrollbar::-webkit-scrollbar {
        display: none;
      }
      .no-scrollbar {
        -ms-overflow-style: none; /* IE/Edge legacy */
        scrollbar-width: none; /* Firefox */
      }
    </style>
  </head>
  <body class="min-h-screen bg-gradient-to-br from-slate-950 via-indigo-950 to-zinc-950 text-slate-100">
    <div class="min-h-screen">
      <div class="mx-auto flex h-screen max-w-3xl flex-col px-4 py-6">
        <header class="flex items-center justify-between gap-3 rounded-2xl border border-white/10 bg-zinc-950/30 px-4 py-3 backdrop-blur">
          <div class="flex min-w-0 flex-col">
            <h1 class="truncate text-base font-semibold tracking-tight text-slate-50">AI English Grammar Chatbot</h1>
            <p class="truncate text-xs text-slate-300/70">Text & Voice ‚Ä¢ Minimal modern UI</p>
          </div>
          <div class="flex items-center gap-2">
            <span id="statusPill" class="inline-flex items-center rounded-full border border-white/10 bg-zinc-950/30 px-2.5 py-1 text-xs text-slate-200">
              <span class="mr-2 inline-block h-1.5 w-1.5 rounded-full bg-emerald-400" aria-hidden="true"></span>
              Ready
            </span>
            <button
              id="clearBtn"
              class="rounded-xl border border-white/10 bg-zinc-950/30 px-3 py-1.5 text-xs text-slate-200 hover:border-indigo-400/50"
              type="button"
              title="Clear UI (does not delete DB)"
            >
              Clear
            </button>
          </div>
        </header>

        <main class="mt-4 flex flex-1 min-h-0 flex-col overflow-hidden rounded-2xl border border-white/10 bg-zinc-950/20 backdrop-blur">
          <div id="chatScroll" class="no-scrollbar relative min-h-0 flex-1 overflow-y-auto px-4 py-4">
            <div id="emptyState" class="pointer-events-none absolute inset-0 flex items-center justify-center">
              <div class="mx-auto max-w-md rounded-2xl border border-white/10 bg-zinc-950/35 px-5 py-4 text-center">
                <div class="text-sm font-semibold text-slate-50">English Grammar Chat</div>
                <div class="mt-1 text-xs leading-relaxed text-slate-200/80">
                  Ketik atau kirim voice. Voice akan ditranskrip dulu jadi teks, lalu dapat balasan AI.
                </div>
                <div class="mt-3 text-[11px] text-slate-300/60">Contoh: ‚ÄúPlease correct my sentence: I goes to school yesterday.‚Äù</div>
              </div>
            </div>

            <div id="messages" class="relative z-10 flex flex-col gap-3"></div>
          </div>

          <div class="border-t border-white/10 p-3">
            <form id="composer" class="flex flex-col gap-2">
              <div class="flex items-center gap-2">
                <div class="flex-1">
                  <label for="textInput" class="sr-only">Message</label>
                  <textarea
                    id="textInput"
                    rows="1"
                    class="h-10 min-h-10 w-full resize-none overflow-hidden rounded-2xl border border-white/10 bg-zinc-950/35 px-4 py-2 text-sm text-slate-100 outline-none placeholder:text-slate-300/50 focus:border-indigo-400/60"
                    placeholder="Ketik pesan... (Enter untuk kirim, Shift+Enter untuk baris baru)"
                  ></textarea>
                </div>

                <button
                  id="voiceBtn"
                  type="button"
                  class="inline-flex h-10 w-10 items-center justify-center rounded-2xl border border-white/10 bg-zinc-950/30 text-slate-200 hover:border-indigo-400/50"
                  title="Record voice"
                >
                  <span id="voiceIcon" class="text-sm font-semibold">üéô</span>
                </button>

                <button
                  id="sendBtn"
                  class="inline-flex h-10 items-center justify-center rounded-2xl bg-indigo-500 px-4 text-sm font-semibold text-white hover:bg-indigo-400 disabled:opacity-50"
                  type="submit"
                >
                  Send
                </button>
              </div>

              <p id="hint" class="text-xs text-slate-300/60"></p>
            </form>
          </div>
        </main>
      </div>
    </div>

    <script src="static/app.js" type="module"></script>
  </body>
</html>
